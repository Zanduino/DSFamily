<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DS-Family: examples/Calibration/Calibration.ino File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DS-Family
   &#160;<span id="projectnumber">Version 1.0.8</span>
   </div>
   <div id="projectbrief">Arduino Library for the DS-Family of 1-Wire thermometers</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_calibration_8ino.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Calibration.ino File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="_d_s_family_8h_source.html">DSFamily.h</a>&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4fc01d736fe50cf5b977f755b675f11d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_calibration_8ino.html#a4fc01d736fe50cf5b977f755b675f11d">setup</a> ()</td></tr>
<tr class="memdesc:a4fc01d736fe50cf5b977f755b675f11d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Arduino method called once at startup to initialize the system.  <a href="#a4fc01d736fe50cf5b977f755b675f11d">More...</a><br /></td></tr>
<tr class="separator:a4fc01d736fe50cf5b977f755b675f11d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe461d27b9c48d5921c00d521181f12f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_calibration_8ino.html#afe461d27b9c48d5921c00d521181f12f">loop</a> ()</td></tr>
<tr class="memdesc:afe461d27b9c48d5921c00d521181f12f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Arduino method for the main program loop.  <a href="#afe461d27b9c48d5921c00d521181f12f">More...</a><br /></td></tr>
<tr class="separator:afe461d27b9c48d5921c00d521181f12f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:adc8430dea1bce949f10d9708742cca34"><td class="memItemLeft" align="right" valign="top"><a id="adc8430dea1bce949f10d9708742cca34"></a>
const uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_calibration_8ino.html#adc8430dea1bce949f10d9708742cca34">SERIAL_SPEED</a> = 115200</td></tr>
<tr class="memdesc:adc8430dea1bce949f10d9708742cca34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Serial communication baud rate. <br /></td></tr>
<tr class="separator:adc8430dea1bce949f10d9708742cca34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a415c19f13d3afff25704f7441c9fdc44"><td class="memItemLeft" align="right" valign="top"><a id="a415c19f13d3afff25704f7441c9fdc44"></a>
const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_calibration_8ino.html#a415c19f13d3afff25704f7441c9fdc44">ONE_WIRE_PIN</a> = 5</td></tr>
<tr class="memdesc:a415c19f13d3afff25704f7441c9fdc44"><td class="mdescLeft">&#160;</td><td class="mdescRight">1-Wire attached to PIN 5 <br /></td></tr>
<tr class="separator:a415c19f13d3afff25704f7441c9fdc44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad833c5bc12d85321d6cbc23a898be905"><td class="memItemLeft" align="right" valign="top"><a id="ad833c5bc12d85321d6cbc23a898be905"></a>
const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_calibration_8ino.html#ad833c5bc12d85321d6cbc23a898be905">CALIBRATION_ITERATIONS</a> = 30</td></tr>
<tr class="memdesc:ad833c5bc12d85321d6cbc23a898be905"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of iterations to run. <br /></td></tr>
<tr class="separator:ad833c5bc12d85321d6cbc23a898be905"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbbb1d79ce6ea74bc95c13ae7bf76748"><td class="memItemLeft" align="right" valign="top"><a id="adbbb1d79ce6ea74bc95c13ae7bf76748"></a>
const float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_calibration_8ino.html#adbbb1d79ce6ea74bc95c13ae7bf76748">DS_DEGREES</a> = 0.0625</td></tr>
<tr class="memdesc:adbbb1d79ce6ea74bc95c13ae7bf76748"><td class="mdescLeft">&#160;</td><td class="mdescRight">Degrees per DS unit. <br /></td></tr>
<tr class="separator:adbbb1d79ce6ea74bc95c13ae7bf76748"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81df44c306c68e9c9fb995df2e93eed1"><td class="memItemLeft" align="right" valign="top"><a id="a81df44c306c68e9c9fb995df2e93eed1"></a>
const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_calibration_8ino.html#a81df44c306c68e9c9fb995df2e93eed1">SPRINTF_BUFFER_SIZE</a> = 64</td></tr>
<tr class="memdesc:a81df44c306c68e9c9fb995df2e93eed1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum single sprintf() buffer. <br /></td></tr>
<tr class="separator:a81df44c306c68e9c9fb995df2e93eed1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b9077612160d6826d9ef8cee6b3b7ba"><td class="memItemLeft" align="right" valign="top"><a id="a8b9077612160d6826d9ef8cee6b3b7ba"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_calibration_8ino.html#a8b9077612160d6826d9ef8cee6b3b7ba">thermometers</a> = 0</td></tr>
<tr class="memdesc:a8b9077612160d6826d9ef8cee6b3b7ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of devices found. <br /></td></tr>
<tr class="separator:a8b9077612160d6826d9ef8cee6b3b7ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5e1ae867f0d8707fd1a9144d97e7638"><td class="memItemLeft" align="right" valign="top"><a id="ae5e1ae867f0d8707fd1a9144d97e7638"></a>
char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_calibration_8ino.html#ae5e1ae867f0d8707fd1a9144d97e7638">buffer</a> [<a class="el" href="_general_8ino.html#a81df44c306c68e9c9fb995df2e93eed1">SPRINTF_BUFFER_SIZE</a>]</td></tr>
<tr class="memdesc:ae5e1ae867f0d8707fd1a9144d97e7638"><td class="mdescLeft">&#160;</td><td class="mdescRight">buffer for sprintf() calls <br /></td></tr>
<tr class="separator:ae5e1ae867f0d8707fd1a9144d97e7638"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57e5a70253e3fc038978b0ecf753899e"><td class="memItemLeft" align="right" valign="top"><a id="a57e5a70253e3fc038978b0ecf753899e"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_calibration_8ino.html#a57e5a70253e3fc038978b0ecf753899e">ROMBuffer</a> [8]</td></tr>
<tr class="memdesc:a57e5a70253e3fc038978b0ecf753899e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds unique address of device. <br /></td></tr>
<tr class="separator:a57e5a70253e3fc038978b0ecf753899e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c46a3ba86970aa4fddf9875e1c16807"><td class="memItemLeft" align="right" valign="top"><a id="a2c46a3ba86970aa4fddf9875e1c16807"></a>
<a class="el" href="class_d_s_family___class.html">DSFamily_Class</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_calibration_8ino.html#a2c46a3ba86970aa4fddf9875e1c16807">DSFamily</a> (<a class="el" href="_general_8ino.html#a415c19f13d3afff25704f7441c9fdc44">ONE_WIRE_PIN</a>, 128)</td></tr>
<tr class="memdesc:a2c46a3ba86970aa4fddf9875e1c16807"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start DSFamily, reserve 128 Bytes. <br /></td></tr>
<tr class="separator:a2c46a3ba86970aa4fddf9875e1c16807"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h1><a class="anchor" id="Calibration_intro_section"></a>
Description</h1>
<p>This program demonstrates the calibration function in the DSFamily library.<br />
<br />
 The following 2 constants can/should be adjusted according to the 1-Wire configuration and user preferences:<br />
"ONE_WIRE_PIN" is the Arduino pin on which the data line of the 1-Wire system is attached<br />
"CALIBRATION_ITERATIONS" is the number of iterations to average temperature measurements per thermometer<br />
<br />
 The precision of the DS-Family devices is programmable from 9 to 12 bits and the granularity of readings is 0.0625°C. Unfortunately there is a certain amount of deviation between devices so that they read slightly different temperatures. The calibration process measures the average temperatures of the different devices and then assumes that the average value of all readings for all thermometers is the correct value and then an offset to that ideal temperature is computed.<br />
<br />
 Each DS-Family thermometer has 2 user bytes available for reading/writing. These two bytes can be used for high and low temperature alarms; but these are used for calibration purposes by this library. In order to prevent errors when one or both bytes are modified, the exclusive OR of the two values must be 0xFF in order for a calibration offset to be applied.</p>
<h1><a class="anchor" id="Calibrationlicense"></a>
License</h1>
<p>This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details. You should have received a copy of the GNU General Public License along with this program. If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>.</p>
<h1><a class="anchor" id="Calibrationauthor"></a>
Author</h1>
<p>Written by Arnd@SV-Zanshin</p>
<h1><a class="anchor" id="Calibrationversions"></a>
Changelog</h1>
<table class="doxtable">
<tr>
<th>Version </th><th>Date </th><th>Developer </th><th>Comments  </th></tr>
<tr>
<td>1.0.1 </td><td>2019-01-27 </td><td><a href="https://github.com/SV-Zanshin">https://github.com/SV-Zanshin</a> </td><td>Changed documentation to doxygen style </td></tr>
<tr>
<td>1.0.0 </td><td>2016-11-30 </td><td><a href="https://github.com/SV-Zanshin">https://github.com/SV-Zanshin</a> </td><td>Initial coding </td></tr>
</table>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="afe461d27b9c48d5921c00d521181f12f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe461d27b9c48d5921c00d521181f12f">&#9670;&nbsp;</a></span>loop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void loop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Arduino method for the main program loop. </p>
<p>This is the main program for the Arduino IDE, it is an infinite loop and keeps on repeating. </p><dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a id="a4fc01d736fe50cf5b977f755b675f11d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fc01d736fe50cf5b977f755b675f11d">&#9670;&nbsp;</a></span>setup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Arduino method called once at startup to initialize the system. </p>
<p>This is an Arduino IDE method which is called first upon boot or restart. It is only called one time and then control goes to the main "loop()" method, from which control never returns </p><dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d28a4824dc47e487b107a5db32ef43c4.html">examples</a></li><li class="navelem"><a class="el" href="dir_c43ffed018fae7654a900ab6da451d2b.html">Calibration</a></li><li class="navelem"><a class="el" href="_calibration_8ino.html">Calibration.ino</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
